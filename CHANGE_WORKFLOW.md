# 📋 תהליך עבודה - Change Workflow

## ⚠️ הוראה מחייבת: סנכרון מלא לפני כל שינוי!

**⚠️ ללא Pull לפני שינוי - אין לעבוד על הפרויקט!**  
**⚠️ ללא תיעוד ב-`CHANGELOG.md` - אין לעשות Commit!**  
**⚠️ ללא Pull לפני Commit - אין לעשות Push!**

---

## 🔄 תהליך עבודה מחייב (לפי סדר):

### **שלב 1: Pull לפני כל שינוי** ⚠️ חובה!

**לפני כל שינוי בקוד, חובה:**

```bash
# Pull את השינויים האחרונים מהשרת
git pull production main
```

**⚠️ אם יש שינויים חדשים:**
- **קרא את השינויים** - מה שונה? האם זה משפיע על מה שאתה עושה?
- **אם יש קונפליקטים** - פתור אותם לפני שתמשיך!
- **אם יש שינויים ב-`CHANGELOG.md`** - קרא אותם בקפידה!

**✅ רק אחרי Pull מוצלח - המשך לשלב הבא!**

---

### **שלב 2: קריאת CHANGELOG** ⚠️ חובה!

```bash
# קרא את CHANGELOG.md
# או פתח את הקובץ ב-IDE שלך
```

**מה לבדוק:**
- מה השתנה לאחרונה?
- האם יש שינויים שמשפיעים על מה שאתה עושה?
- האם יש שינויים שמתנגשים עם מה שאתה רוצה לעשות?
- מי ביצע שינויים לאחרונה?

**✅ רק אחרי שקראת והבנת - המשך לשלב הבא!**

---

### **שלב 3: ביצוע השינוי**

**עכשיו אתה יכול:**
- לבצע את השינוי בקוד
- לבדוק שהכל עובד
- לבדוק שגיאות (TypeScript, Console, וכו')

**⚠️ זכור:**
- לא לעשות Commit עדיין!
- לא לעשות Push עדיין!
- רק לבצע את השינוי!

---

### **שלב 4: תיעוד השינוי ב-CHANGELOG.md** ⚠️ חובה!

**לפני כל Commit, חובה:**

1. **פתח את `CHANGELOG.md`**
2. **הוסף את השינוי שלך בתחילת הקובץ** (לפני כל השינויים האחרים)
3. **השתמש בפורמט:**

```markdown
### [YYYY-MM-DD] - [שם המשתמש] - [תיאור קצר]

**מה שונה:**
- [תיאור מפורט של השינוי]
- [קובץ/תיקייה ששונה]
- [תכונה/תיקון שהוסף]

**למה:**
- [סיבה לשינוי]

**השפעה:**
- [איך זה משפיע על המערכת]
- [האם צריך Deploy?]
- [האם יש breaking changes?]
```

**🔧 זיהוי משתמש:**

```powershell
# Windows
powershell -ExecutionPolicy Bypass -File get-user-name.ps1

# Linux/Mac
bash get-user-name.sh
```

**✅ רק אחרי שתיעדת - המשך לשלב הבא!**

---

### **שלב 5: Pull שוב לפני Commit** ⚠️ חובה!

**לפני Commit, חובה:**

```bash
# Pull שוב כדי לוודא שאין שינויים חדשים
git pull production main
```

**⚠️ אם יש שינויים חדשים:**
- **עדכן את `CHANGELOG.md`** - אם צריך, תוסיף את השינויים החדשים
- **פתור קונפליקטים** - אם יש
- **בדוק שהכל עובד** - אחרי Merge

**✅ רק אחרי Pull מוצלח - המשך לשלב הבא!**

---

### **שלב 6: Commit** ⚠️ חובה!

**רק אחרי:**
- ✅ Pull לפני שינוי (שלב 1)
- ✅ קריאת CHANGELOG (שלב 2)
- ✅ ביצוע השינוי (שלב 3)
- ✅ תיעוד ב-CHANGELOG (שלב 4)
- ✅ Pull לפני Commit (שלב 5)

**עכשיו אתה יכול:**

```bash
# הוסף את כל השינויים
git add .

# Commit עם הודעה ברורה
git commit -m "תיאור קצר של השינוי"
```

**⚠️ הודעת Commit צריכה להיות:**
- ברורה וקצרה
- מתארת את השינוי
- לא מחליפה את התיעוד ב-CHANGELOG!

---

### **שלב 7: Push** ⚠️ חובה!

**רק אחרי Commit מוצלח:**

```bash
# Push לשרת (Deploy אוטומטי!)
git push production main
```

**⚠️ אם Push נכשל:**
- **עשה Pull** - `git pull production main`
- **פתור קונפליקטים** - אם יש
- **נסה Push שוב** - `git push production main`

**✅ אחרי Push מוצלח - Deploy אוטומטי מתחיל!**

---

## 📋 Checklist מלא לפני Commit:

### **לפני שינוי:**
- [ ] **עשיתי Pull לפני שינוי** ⚠️ חובה!
- [ ] **קראתי את `CHANGELOG.md`** ⚠️ חובה!
- [ ] **הבנתי את השינויים האחרונים**
- [ ] **בדקתי שאין שינויים שמתנגשים**

### **לפני Commit:**
- [ ] **ביצעתי את השינוי**
- [ ] **בדקתי שהכל עובד** (TypeScript, Console)
- [ ] **הוספתי את השינוי שלי ל-`CHANGELOG.md`** ⚠️ חובה!
- [ ] **תיעדתי את כל הקבצים ששונו**
- [ ] **תיעדתי את הסיבה לשינוי**
- [ ] **תיעדתי את ההשפעה על המערכת**
- [ ] **עשיתי Pull שוב לפני Commit** ⚠️ חובה!
- [ ] **פתרתי קונפליקטים** (אם יש)
- [ ] **אני מוכן ל-Commit!**

### **לפני Push:**
- [ ] **עשיתי Commit מוצלח**
- [ ] **אני מוכן ל-Push!**

---

## 🚨 כללים מחייבים:

### **❌ אל תעשה:**

1. **❌ אל תעשה שינוי ללא Pull לפני!** - זה יגרום לקונפליקטים!
2. **❌ אל תעשה Commit ללא Pull לפני!** - זה יגרום לקונפליקטים!
3. **❌ אל תעשה Commit ללא תיעוד ב-`CHANGELOG.md`!** - זה מחייב!
4. **❌ אל תעשה Push ללא Pull לפני!** - זה יגרום לקונפליקטים!

### **✅ תמיד תעשה:**

1. **✅ Pull לפני כל שינוי** - חובה!
2. **✅ קרא את `CHANGELOG.md` לפני כל שינוי** - חובה!
3. **✅ תיעד ב-`CHANGELOG.md` לפני כל Commit** - חובה!
4. **✅ Pull שוב לפני Commit** - חובה!
5. **✅ בדוק שהכל עובד לפני Push** - חובה!

---

## 🔍 איך לזהות איזה משתמש אתה:

**השתמש בסקריפטים:**

```powershell
# Windows
powershell -ExecutionPolicy Bypass -File get-user-name.ps1

# Linux/Mac
bash get-user-name.sh
```

**המערכת מזהה אוטומטית:**
- אם המחשב שלך הוא של **אופיר ברנס** → אתה **אופיר ברנס**
- אם המחשב שלך **לא** של אופיר ברנס → אתה **מתוקו מסגנאו**

---

## 📝 פורמט תיעוד שינוי:

**לפני כל Commit, תוסיף ל-`CHANGELOG.md`:**

```markdown
### [YYYY-MM-DD] - [שם המשתמש] - [תיאור קצר]

**מה שונה:**
- [תיאור מפורט של השינוי]
- [קובץ/תיקייה ששונה]
- [תכונה/תיקון שהוסף]

**למה:**
- [סיבה לשינוי]

**השפעה:**
- [איך זה משפיע על המערכת]
- [האם צריך Deploy?]
- [האם יש breaking changes?]
```

---

## ✅ דוגמה לתיעוד שינוי:

```markdown
### [2025-11-06] - אופיר ברנס - תיקון API Key loading

**מה שונה:**
- עדכון `vite.config.ts` לקריאת `VITE_GEMINI_API_KEY` מ-`.env.production`
- עדכון `deploy-vite-project.sh` ליצירת `.env.production` לפני Build

**למה:**
- API Key לא נטען נכון ב-Production

**השפעה:**
- ✅ API Key נטען נכון כעת
- ✅ צריך Deploy מחדש
- ❌ אין breaking changes
```

---

## 🚨 שינויים קריטיים (Breaking Changes):

אם יש שינוי קריטי שמשפיע על המערכת, **הדגש אותו כך:**

```markdown
### [YYYY-MM-DD] - [שם המשתמש] - ⚠️ BREAKING CHANGE: [תיאור]

**⚠️ שינוי קריטי!**
- [תיאור השינוי הקריטי]
- [מה נשבר/השתנה]
- [איך להתמודד עם זה]
```

---

## 🔧 פקודות חשובות:

```bash
# Pull לפני שינוי
git pull production main

# Pull לפני Commit
git pull production main

# הוסף שינויים
git add .

# Commit
git commit -m "תיאור קצר"

# Push (Deploy אוטומטי!)
git push production main

# בדוק status
git status

# בדוק log
git log --oneline -10
```

---

## 📚 קישורים:

- **`CHANGELOG.md`** - רשימת כל השינויים (קרא לפני כל שינוי!)
- **`CURSOR_PROJECT_GUIDE.md`** - מדריך מלא לפרויקט
- **`README.md`** - הוראות בכניסה לפרויקט

---

## 🎯 סיכום:

**תהליך עבודה מחייב (לפי סדר):**

1. **Pull לפני שינוי** ⚠️ חובה!
2. **קרא CHANGELOG** ⚠️ חובה!
3. **בצע שינוי**
4. **תעד ב-CHANGELOG** ⚠️ חובה!
5. **Pull לפני Commit** ⚠️ חובה!
6. **Commit**
7. **Push**

**⚠️ זכור: Pull → קרא → שנה → תעד → Pull → Commit → Push**
